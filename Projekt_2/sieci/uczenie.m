%uczenie predyktora oe
clear all;
n=0; farx(n+1)=3.413108e+002; foe(n+1)=3.592390e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=2.345418e+002; foe(n+1)=2.316784e+002; krok(n+1)=1.229105e-003; ng(n+1)=1.656802e+003;
n=2; farx(n+1)=7.741806e+001; foe(n+1)=7.501552e+001; krok(n+1)=2.213894e-003; ng(n+1)=9.820726e+002;
n=3; farx(n+1)=5.428707e+001; foe(n+1)=5.073216e+001; krok(n+1)=1.126296e-003; ng(n+1)=5.481326e+002;
n=4; farx(n+1)=4.630435e+001; foe(n+1)=4.442333e+001; krok(n+1)=1.076348e-002; ng(n+1)=1.528036e+002;
n=5; farx(n+1)=3.318512e+001; foe(n+1)=3.556117e+001; krok(n+1)=1.308935e-002; ng(n+1)=3.826380e+002;
n=6; farx(n+1)=3.302632e+001; foe(n+1)=3.493550e+001; krok(n+1)=1.586441e-002; ng(n+1)=9.662404e+001;
n=7; farx(n+1)=3.267819e+001; foe(n+1)=3.445752e+001; krok(n+1)=6.485153e-003; ng(n+1)=1.135190e+002;
n=8; farx(n+1)=3.184439e+001; foe(n+1)=3.420044e+001; krok(n+1)=6.852302e-002; ng(n+1)=2.988273e+001;
n=9; farx(n+1)=3.126919e+001; foe(n+1)=3.406986e+001; krok(n+1)=2.025137e-002; ng(n+1)=3.474776e+001;
n=10; farx(n+1)=2.960008e+001; foe(n+1)=3.375102e+001; krok(n+1)=2.812841e-002; ng(n+1)=5.670770e+001;
n=11; farx(n+1)=2.785459e+001; foe(n+1)=3.337634e+001; krok(n+1)=1.902655e-002; ng(n+1)=6.886248e+001;
n=12; farx(n+1)=2.757086e+001; foe(n+1)=3.330353e+001; krok(n+1)=1.349272e-002; ng(n+1)=2.420866e+001;
n=13; farx(n+1)=2.691805e+001; foe(n+1)=3.305412e+001; krok(n+1)=4.973429e-002; ng(n+1)=4.983436e+001;
n=14; farx(n+1)=2.617175e+001; foe(n+1)=3.289467e+001; krok(n+1)=3.050997e-002; ng(n+1)=6.213395e+001;
n=15; farx(n+1)=2.618754e+001; foe(n+1)=3.278923e+001; krok(n+1)=1.431710e-001; ng(n+1)=3.160157e+001;
n=16; farx(n+1)=2.575583e+001; foe(n+1)=3.267710e+001; krok(n+1)=8.005809e-002; ng(n+1)=4.617385e+001;
n=17; farx(n+1)=2.594233e+001; foe(n+1)=3.255792e+001; krok(n+1)=1.577575e-001; ng(n+1)=2.154774e+001;
n=18; farx(n+1)=2.671914e+001; foe(n+1)=3.236966e+001; krok(n+1)=8.892157e-002; ng(n+1)=3.061111e+001;
n=19; farx(n+1)=2.839472e+001; foe(n+1)=3.218230e+001; krok(n+1)=1.488820e-002; ng(n+1)=7.641601e+001;
n=20; farx(n+1)=3.220123e+001; foe(n+1)=3.182282e+001; krok(n+1)=2.847182e-002; ng(n+1)=1.313821e+002;
n=21; farx(n+1)=3.427595e+001; foe(n+1)=3.171757e+001; krok(n+1)=1.340015e-002; ng(n+1)=5.185420e+001;
n=22; farx(n+1)=3.645917e+001; foe(n+1)=3.160471e+001; krok(n+1)=3.034189e-002; ng(n+1)=4.819781e+001;
n=23; farx(n+1)=3.713902e+001; foe(n+1)=3.152575e+001; krok(n+1)=2.128042e-002; ng(n+1)=4.887033e+001;
n=24; farx(n+1)=3.971737e+001; foe(n+1)=3.134073e+001; krok(n+1)=5.934607e-002; ng(n+1)=6.084357e+001;
n=25; farx(n+1)=4.009810e+001; foe(n+1)=3.125257e+001; krok(n+1)=5.160128e-002; ng(n+1)=2.653770e+001;
%odnowa zmiennej metryki
n=26; farx(n+1)=4.018379e+001; foe(n+1)=3.122898e+001; krok(n+1)=2.509069e-004; ng(n+1)=5.257814e+001;
n=27; farx(n+1)=4.024398e+001; foe(n+1)=3.122090e+001; krok(n+1)=1.152461e-003; ng(n+1)=1.458513e+001;
n=28; farx(n+1)=4.064200e+001; foe(n+1)=3.119437e+001; krok(n+1)=2.939707e-003; ng(n+1)=1.431495e+001;
n=29; farx(n+1)=3.997154e+001; foe(n+1)=3.110863e+001; krok(n+1)=1.034736e-002; ng(n+1)=1.470082e+001;
n=30; farx(n+1)=3.675213e+001; foe(n+1)=3.078940e+001; krok(n+1)=4.388300e-002; ng(n+1)=1.573713e+001;
n=31; farx(n+1)=3.489592e+001; foe(n+1)=3.059715e+001; krok(n+1)=1.538463e-002; ng(n+1)=5.287172e+001;
n=32; farx(n+1)=3.435347e+001; foe(n+1)=3.040725e+001; krok(n+1)=3.798141e-002; ng(n+1)=4.709883e+001;
n=33; farx(n+1)=3.449181e+001; foe(n+1)=3.029770e+001; krok(n+1)=1.238474e-002; ng(n+1)=7.762507e+001;
n=34; farx(n+1)=3.455781e+001; foe(n+1)=3.016006e+001; krok(n+1)=1.121678e-002; ng(n+1)=7.718131e+001;
n=35; farx(n+1)=3.376952e+001; foe(n+1)=2.985988e+001; krok(n+1)=7.500305e-002; ng(n+1)=3.059618e+001;
n=36; farx(n+1)=3.422611e+001; foe(n+1)=2.965989e+001; krok(n+1)=3.095635e-002; ng(n+1)=1.118036e+002;
n=37; farx(n+1)=3.316899e+001; foe(n+1)=2.953565e+001; krok(n+1)=3.650930e-002; ng(n+1)=6.336633e+001;
n=38; farx(n+1)=3.204276e+001; foe(n+1)=2.945363e+001; krok(n+1)=1.450364e-002; ng(n+1)=6.321091e+001;
n=39; farx(n+1)=2.863504e+001; foe(n+1)=2.930663e+001; krok(n+1)=2.024365e-002; ng(n+1)=5.100959e+001;
n=40; farx(n+1)=2.585460e+001; foe(n+1)=2.920442e+001; krok(n+1)=4.264608e-003; ng(n+1)=1.914975e+002;
n=41; farx(n+1)=1.573810e+001; foe(n+1)=2.863287e+001; krok(n+1)=3.816957e-002; ng(n+1)=9.611226e+001;
n=42; farx(n+1)=1.369718e+001; foe(n+1)=2.854107e+001; krok(n+1)=2.186130e-003; ng(n+1)=2.499531e+002;
n=43; farx(n+1)=1.240908e+001; foe(n+1)=2.846677e+001; krok(n+1)=8.237127e-003; ng(n+1)=2.820919e+002;
n=44; farx(n+1)=1.069119e+001; foe(n+1)=2.833726e+001; krok(n+1)=6.884742e-003; ng(n+1)=4.378414e+002;
n=45; farx(n+1)=7.419784e+000; foe(n+1)=2.790692e+001; krok(n+1)=1.556427e-002; ng(n+1)=4.174748e+002;
n=46; farx(n+1)=5.614634e+000; foe(n+1)=2.747985e+001; krok(n+1)=1.111520e-002; ng(n+1)=4.387524e+002;
n=47; farx(n+1)=5.032169e+000; foe(n+1)=2.730408e+001; krok(n+1)=1.427772e-003; ng(n+1)=6.215256e+002;
n=48; farx(n+1)=4.761761e+000; foe(n+1)=2.722665e+001; krok(n+1)=3.201476e-003; ng(n+1)=4.966510e+002;
n=49; farx(n+1)=4.517575e+000; foe(n+1)=2.706780e+001; krok(n+1)=7.993461e-003; ng(n+1)=7.377496e+002;
n=50; farx(n+1)=3.811418e+000; foe(n+1)=2.638746e+001; krok(n+1)=1.360047e-002; ng(n+1)=7.208302e+002;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
